<launch>

    <!-- 设置地图的配置文件 -->
    <arg name="map" default="demo.yaml" />
    <node name="map_server" pkg="map_server" type="map_server" args="$(find wbot_navigation)/maps/$(arg map)"/>

    <!-- 运行move_base节点 -->
    <include file="$(find wbot_navigation)/launch/fwd_teb_move_base.launch">
        <arg name="vel_topic" value="/fwd_velocity_controller/cmd_vel"/>
        <arg name="odom_topic" value="/fwd_odom_gt"/>
    </include>
    <!-- 启动AMCL节点 -->
    <include file="$(find wbot_navigation)/launch/fwd_amcl.launch">
        <arg name="odom_frame_id"   value="world"/>
        <arg name="base_frame_id"   value="base_link"/>
        <arg name="global_frame_id" value="map"/>
    </include>

    <!-- 对于虚拟定位，需要设置一个/odom与/map之间的静态坐标变换 -->
    <!-- <node pkg="tf" type="static_transform_publisher" name="map_odom_broadcaster" args="0 0 0 0 0 0 /map /world 100" /> -->

    <!-- 运行rviz -->
    <node pkg="rviz" type="rviz" name="rviz_nav" args="-d $(find wbot_navigation)/rviz/nav.rviz"/>

</launch>
